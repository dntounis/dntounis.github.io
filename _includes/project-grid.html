<div class="projects-grid">
  {% for project in site.projects %}
  <div class="project-card">
    {% if project.image %}
    <div class="project-image-container">
      <img src="{{ project.image }}" alt="{{ project.title }}" class="project-image">
    </div>
    {% endif %}
    
    <div class="project-content">
      <h3 class="project-title" onclick="toggleProject(this)">
        {{ project.title }}
        <span class="expand-icon">▼</span>
      </h3>
      
      <p class="project-brief">{{ project.description }}</p>
      
      <div class="project-details" style="display: none;">
        {{ project.content }}
      </div>

      <div class="project-tags">
        {% for tag in project.tags %}
        <span class="tag">{{ tag }}</span>
        {% endfor %}
      </div>

      <div class="project-links">
        {% if project.demo %}
        <a href="{{ project.demo }}" target="_blank" class="project-link">Demo</a>
        {% endif %}
        
        {% if project.code %}
        <a href="{{ project.code }}" target="_blank" class="project-link">Code</a>
        {% endif %}
        
        {% if project.Paper %}
        <a href="{{ project.Paper }}" target="_blank" class="project-link paper-link">
          <i class="fas fa-file-pdf"></i> Paper
        </a>
        {% endif %}
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<script>
function toggleProject(element) {
    const projectCard = element.closest('.project-card');
    const details = projectCard.querySelector('.project-details');
    const icon = element.querySelector('.expand-icon');
    
    if (details.style.display === 'none') {
        details.style.display = 'block';
        icon.innerHTML = '▲';
        projectCard.classList.add('expanded');
    } else {
        details.style.display = 'none';
        icon.innerHTML = '▼';
        projectCard.classList.remove('expanded');
    }
}
</script>